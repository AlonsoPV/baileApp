@import "tailwindcss";
@import "./styles/landing.css";

:root {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  line-height: 1.5;
  font-weight: 400;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  width: 100%;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overflow-x: hidden;
  overflow-y: auto;
  will-change: auto;
  /* Ensure vertical scrolling works on Chrome Android */
  touch-action: pan-x pan-y;
}

body {
  margin: 0;
  width: 100%;
  min-height: 100vh;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overflow-x: hidden;
  overflow-y: auto;
  will-change: auto;
  /* Ensure vertical scrolling works on Chrome Android */
  touch-action: pan-x pan-y;
}

/* iOS: evita zoom automático al hacer focus (zoom si font-size < 16px) */
input,
select,
textarea {
  font-size: 16px !important;
}

/* Overlay root: capa fija global (no afecta layout, no bloquea scroll) */
#overlay-root {
  position: fixed;
  inset: 0;
  z-index: 2147483647; /* encima de todo */
  pointer-events: none; /* no bloquear scroll */
  isolation: isolate; /* stacking context propio */
}

button {
  font-family: inherit;
}

/* Safe area utility classes */
.safe-top {
  padding-top: env(safe-area-inset-top);
}

.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-left {
  padding-left: env(safe-area-inset-left);
}

.safe-right {
  padding-right: env(safe-area-inset-right);
}

.safe-top-with-padding {
  padding-top: calc(env(safe-area-inset-top) + 8px);
}

.safe-bottom-with-padding {
  padding-bottom: calc(env(safe-area-inset-bottom) + 8px);
}

/* Optimizaciones de scroll para elementos con overflow */
* {
  /* Mejorar rendimiento de scroll en todos los elementos */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Scroll horizontal optimizado (para sliders, filtros, etc.) */
[style*="overflow-x: auto"],
[style*="overflow-x: scroll"],
.horizontal-scroll,
.horizontal-slider {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior-x: contain;
  /* Aceleración de hardware */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: scroll-position;
  /* Touch actions */
  /* Permitir scroll vertical del parent aunque el gesto inicie en un slider horizontal */
  touch-action: pan-x pan-y;
}

/* Scroll vertical optimizado */
[style*="overflow-y: auto"],
[style*="overflow-y: scroll"],
.vertical-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior-y: contain;
  /* Aceleración de hardware */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: scroll-position;
  /* Touch actions */
  touch-action: pan-y;
}

/* Optimizaciones específicas para móvil */
@media (max-width: 768px) {
  html, body {
    /* Scroll más fluido en móvil */
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    /* Reducir latencia de scroll */
    overscroll-behavior: contain;
  }

  /* Mejorar scroll en contenedores con overflow */
  [style*="overflow"],
  [class*="scroll"] {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    overscroll-behavior: contain;
    /* Aceleración de hardware - solo durante scroll activo */
    will-change: auto;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    /* Reducir repaints */
    backfaceVisibility: hidden;
    -webkit-backfaceVisibility: hidden;
  }

  /* Optimizar scroll en listas y grids */
  ul, ol, div[role="list"] {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    /* Aceleración de hardware */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    contain: layout style;
  }

  /* Prevenir scroll bounce no deseado en iOS */
  body {
    overscroll-behavior-y: contain;
  }
  
  /* Reducir animaciones durante scroll en mobile para mejor rendimiento */
  @media (prefers-reduced-motion: no-preference) {
    * {
      scroll-behavior: auto !important;
    }
  }
}

/* Optimizaciones adicionales para pantallas pequeñas */
@media (max-width: 480px) {
  html, body {
    /* Scroll aún más optimizado en pantallas pequeñas */
    -webkit-overflow-scrolling: touch;
    /* Reducir inercia de scroll para mejor control */
    overscroll-behavior: contain;
  }
}
